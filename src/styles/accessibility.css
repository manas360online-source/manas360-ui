/* ============================================

   MANAS360 ACCESSIBILITY STYLES

   WCAG 2.1 AA Compliant

   ============================================ */

/* ============================================

   1. FOCUS MANAGEMENT

   ============================================ */

/* Visible focus indicators */

:focus {

  outline: 3px solid #667eea;

  outline-offset: 2px;

}

/* Focus visible only for keyboard users */

:focus:not(:focus-visible) {

  outline: none;

}

:focus-visible {

  outline: 3px solid #667eea;

  outline-offset: 2px;

}

/* Skip to main content link */

.skip-link {

  position: absolute;

  top: -40px;

  left: 0;

  background: #667eea;

  color: white;

  padding: 12px 24px;

  z-index: 10000;

  text-decoration: none;

  font-weight: 600;

  border-radius: 0 0 8px 0;

  transition: top 0.3s ease;

}

.skip-link:focus {

  top: 0;

}

/* ============================================

   2. COLOR & CONTRAST

   ============================================ */

/* High contrast mode */

@media (prefers-contrast: high) {

  :root {

    --text-primary: #000000;

    --text-secondary: #1a1a1a;

    --bg-primary: #ffffff;

    --bg-secondary: #f0f0f0;

    --border-color: #000000;

    --focus-color: #0000ff;

    --error-color: #cc0000;

    --success-color: #006600;

  }

  body {

    background: var(--bg-primary);

    color: var(--text-primary);

  }

  button, .btn {

    border: 2px solid var(--border-color);

  }

  a {

    color: #0000ee;

    text-decoration: underline;

  }

  :focus {

    outline: 4px solid var(--focus-color);

    outline-offset: 4px;

  }

}

/* Dark mode */

@media (prefers-color-scheme: dark) {

  :root {

    --text-primary: #f0f0f0;

    --text-secondary: #b0b0b0;

    --bg-primary: #1a1a2e;

    --bg-secondary: #16213e;

    --border-color: #4a4a6a;

  }

  body {

    background: var(--bg-primary);

    color: var(--text-primary);

  }

}

/* Reduced motion */

@media (prefers-reduced-motion: reduce) {

  *,

  *::before,

  *::after {

    animation-duration: 0.01ms !important;

    animation-iteration-count: 1 !important;

    transition-duration: 0.01ms !important;

    scroll-behavior: auto !important;

  }

}

/* ============================================

   3. TYPOGRAPHY & READABILITY

   ============================================ */

/* Minimum text size */

body {

  font-size: 16px;

  line-height: 1.6;

}

/* Large text option */

.text-large {

  font-size: 1.25rem;

  line-height: 1.8;

}

.text-extra-large {

  font-size: 1.5rem;

  line-height: 2;

}

/* Dyslexia-friendly font option */

.font-dyslexia {

  font-family: 'OpenDyslexic', 'Comic Sans MS', sans-serif;

  letter-spacing: 0.05em;

  word-spacing: 0.1em;

}

/* Minimum touch targets (48x48px) */

button,

a,

input[type="checkbox"],

input[type="radio"],

select,

.touch-target {

  min-width: 48px;

  min-height: 48px;

}

/* Adequate spacing between interactive elements */

.interactive-list > * + * {

  margin-top: 8px;

}

/* ============================================

   4. FORM ACCESSIBILITY

   ============================================ */

/* Labels always visible */

label {

  display: block;

  font-weight: 500;

  margin-bottom: 8px;

}

/* Required field indicator */

.required::after {

  content: " *";

  color: #dc2626;

  font-weight: bold;

}

/* Error messages */

.field-error {

  color: #dc2626;

  font-size: 0.875rem;

  margin-top: 4px;

  display: flex;

  align-items: center;

  gap: 4px;

}

.field-error::before {

  content: "⚠️";

}

/* Success messages */

.field-success {

  color: #059669;

  font-size: 0.875rem;

  margin-top: 4px;

}

.field-success::before {

  content: "✓ ";

}

/* Input states */

input:invalid:not(:placeholder-shown),

textarea:invalid:not(:placeholder-shown),

select:invalid {

  border-color: #dc2626;

  background-color: #fef2f2;

}

input:valid:not(:placeholder-shown),

textarea:valid:not(:placeholder-shown) {

  border-color: #059669;

}

/* Disabled state */

:disabled {

  opacity: 0.6;

  cursor: not-allowed;

}

/* ============================================

   5. SCREEN READER UTILITIES

   ============================================ */

/* Visually hidden but accessible to screen readers */

.sr-only {

  position: absolute;

  width: 1px;

  height: 1px;

  padding: 0;

  margin: -1px;

  overflow: hidden;

  clip: rect(0, 0, 0, 0);

  white-space: nowrap;

  border: 0;

}

/* Show on focus (for skip links) */

.sr-only-focusable:focus {

  position: static;

  width: auto;

  height: auto;

  padding: inherit;

  margin: inherit;

  overflow: visible;

  clip: auto;

  white-space: normal;

}

/* Live region announcements */

.live-region {

  position: absolute;

  left: -10000px;

  width: 1px;

  height: 1px;

  overflow: hidden;

}

/* ============================================

   6. LOADING STATES

   ============================================ */

/* Accessible loading spinner */

.loading-spinner {

  display: inline-block;

  width: 24px;

  height: 24px;

  border: 3px solid #e5e7eb;

  border-top-color: #667eea;

  border-radius: 50%;

  animation: spin 1s linear infinite;

}

@keyframes spin {

  to {

    transform: rotate(360deg);

  }

}

/* Loading state announcement */

[aria-busy="true"]::after {

  content: "Loading...";

  position: absolute;

  left: -10000px;

}

/* ============================================

   7. MODAL & DIALOG ACCESSIBILITY

   ============================================ */

/* Focus trap styles */

.modal-backdrop {

  position: fixed;

  inset: 0;

  background: rgba(0, 0, 0, 0.5);

  z-index: 1000;

}

.modal-content {

  position: fixed;

  top: 50%;

  left: 50%;

  transform: translate(-50%, -50%);

  background: white;

  border-radius: 16px;

  max-width: 90vw;

  max-height: 90vh;

  overflow-y: auto;

  z-index: 1001;

}

/* Ensure modal is announced */

[role="dialog"] {

  /* Focus should be trapped within */

}

/* Close button always visible and accessible */

.modal-close {

  position: absolute;

  top: 16px;

  right: 16px;

  width: 48px;

  height: 48px;

  border-radius: 50%;

  display: flex;

  align-items: center;

  justify-content: center;

  font-size: 24px;

  cursor: pointer;

}

/* ============================================

   8. NAVIGATION ACCESSIBILITY

   ============================================ */

/* Current page indicator */

[aria-current="page"] {

  font-weight: 700;

  border-bottom: 3px solid #667eea;

}

/* Breadcrumb separator */

.breadcrumb-separator {

  margin: 0 8px;

  color: #9ca3af;

}

/* ============================================

   9. TABLE ACCESSIBILITY

   ============================================ */

table {

  border-collapse: collapse;

  width: 100%;

}

th {

  text-align: left;

  background: #f3f4f6;

  padding: 12px;

  font-weight: 600;

}

td {

  padding: 12px;

  border-bottom: 1px solid #e5e7eb;

}

/* Row hover for sighted users */

tbody tr:hover {

  background: #f9fafb;

}

/* Caption for screen readers */

caption {

  text-align: left;

  font-weight: 600;

  margin-bottom: 8px;

}

/* ============================================

   10. IMAGE ACCESSIBILITY

   ============================================ */

/* Ensure all images have alt text indicator in dev */

img:not([alt]) {

  outline: 5px solid red;

}

img[alt=""] {

  /* Decorative images - OK */

}

/* ============================================

   11. CUSTOM CHECKBOX/RADIO (Accessible)

   ============================================ */

.custom-checkbox,

.custom-radio {

  position: relative;

  display: flex;

  align-items: center;

  gap: 12px;

  cursor: pointer;

  min-height: 48px;

  padding: 8px;

}

.custom-checkbox input,

.custom-radio input {

  position: absolute;

  opacity: 0;

  width: 48px;

  height: 48px;

  cursor: pointer;

}

.custom-checkbox .checkmark,

.custom-radio .checkmark {

  width: 24px;

  height: 24px;

  border: 2px solid #6b7280;

  border-radius: 4px;

  display: flex;

  align-items: center;

  justify-content: center;

  transition: all 0.2s ease;

}

.custom-radio .checkmark {

  border-radius: 50%;

}

.custom-checkbox input:checked + .checkmark,

.custom-radio input:checked + .checkmark {

  background: #667eea;

  border-color: #667eea;

}

.custom-checkbox input:focus + .checkmark,

.custom-radio input:focus + .checkmark {

  outline: 3px solid #667eea;

  outline-offset: 2px;

}

/* ============================================

   12. PRINT STYLES

   ============================================ */

@media print {

  /* Hide non-essential elements */

  nav,

  .sidebar,

  button,

  .no-print {

    display: none !important;

  }

  /* Ensure text is black */

  body {

    color: #000;

    background: #fff;

  }

  /* Show URLs for links */

  a[href]::after {

    content: " (" attr(href) ")";

    font-size: 0.8em;

    color: #666;

  }

}
